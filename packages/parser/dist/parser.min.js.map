{"version":3,"file":"parser.min.js","sources":["../../src/common.ts","../../src/server.ts","../../src/index.ts"],"sourcesContent":[null,null,null],"names":["injectToHTML","HTMLContent","injectContent","canidates","RegExp","tagToInject","tag","match","exec","replace","staticServer","publicPath","path","resolve","app","express","ws","expressWs","readFileSync","join","__dirname","toString","injectWatchScriptToHTML","dir","files","readdirSync","file","currentPath","statSync","isDirectory","extname","htmlContent","pathObj","parse","relative","get","name","_req","res","send","use","static","index","socket","start","listen","update","JSON","stringify","msg","error","data","on","babelConfig","presets","modules","targets","plugins","pragma","babelHelpers","program","Command","info","str","console","log","chalk","cyan","blue","red","compileCode","code","_a","babel","transformSync","generateCodeTemplate","transformFilename","filename","includes","substring","length","compileFile","filePath","outputPath","fs","result","absOutputPath","writeFileSync","bundleFiles","async","entry","outputDir","inputOptions","input","minifyHTML","postcss","nodeResolve","commonjs","rollupBabelPlugin","inject","___leaf_create_element_react","terser","compress","passes","progress","treeshake","outputOptions","format","bundle","isError","rollup","write","err","gray","close","process","exit","getConfigWithDefault","userConfig","_b","entryHTML","_c","buildFromConfig","configPath","config","entryHTMLContent","startDevServer","port","existsSync","mkdirSync","bundleOutputPath","watcher","watch","output","currentError","server","open","clearScreen","stdout","moveCursor","cursorTo","clearScreenDown","isRebuilding","event","message","chokidar","ignored","description","command","option","action","options","parseInt","pattern","glob","matches","forEach","currentOutputDir","dirname","mkdir","recursive"],"mappings":"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"}