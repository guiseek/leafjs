"use strict";function t(t,e,r,n){if("a"===r&&!n)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof e?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?n:"a"===r?n.call(t):n?n.value:e.get(t)}function e(t,e,r,n,a){if("m"===n)throw new TypeError("Private method is not writable");if("a"===n&&!a)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof e?t!==e||!a:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===n?a.call(t,r):a?a.value=r:e.set(t,r),r}var r;Object.defineProperty(exports,"__esModule",{value:!0});var n=function(){function n(){this.activeEffects=[],this.targetMap=new WeakMap,this.onChange=null,r.set(this,!1)}var a=n.prototype;return a.getTrackableObject=function(t,e){for(var r in t)"object"==typeof t[r]&&(t[r]=this.getTrackableObject(t[r],e));var n=this,a=new Proxy(t,{get:function(t,r,n){var a=Reflect.get(t,r,n);return e.onGet(t,r,n),a},set:function(t,r,a,o){"object"==typeof a&&(a=n.getTrackableObject(a,e));var i=Reflect.set(t,r,a,o);return e.onSet(t,r,a,o),i},deleteProperty:function(t,r){var n=Reflect.deleteProperty(t,r);return e.onDeleteProperty(t,r),n}});return Array.isArray(t)&&Object.setPrototypeOf(a,Array.prototype),a},a.track=function(t,e){if(this.activeEffects.length){var r=this.targetMap.get(t);r||(r=new Map,this.targetMap.set(t,r));var n=r.get(e);n||(n=new Set,r.set(e,n)),this.activeEffects.forEach((function(t){return null==n?void 0:n.add(t)}))}},a.trigger=function(t,e){var r=this.targetMap.get(t);if(r){var n=r.get(e);n&&n.forEach((function(t){t()}))}},a.watchEffect=function(t){this.activeEffects.push(t),t(),this.activeEffects.pop()},a.build=function(n){var a=this,o=this,i=function e(){t(a,r,"f")?setTimeout(e,2):a.onChange&&a.onChange()};return this.getTrackableObject(n,{onGet:function(t,e){o.track(t,e)},onSet:function(n,a){t(o,r,"f")||(e(o,r,!0,"f"),i()),o.trigger(n,a),e(o,r,!1,"f")},onDeleteProperty:function(){}})},a.ref=function(t){var e=this,r={get value(){return e.track(r,"value"),t},set value(n){n!==t&&(t=n,e.trigger(r,"value"))}};return r},a.computed=function(t){var e=this.ref(null);return this.watchEffect((function(){return e.value=t()})),e},a.onStateChange=function(t){this.onChange=t,t()},n}();r=new WeakMap,exports.Reactive=n;
//# sourceMappingURL=reactivity.min.js.map
