"use strict";function t(t,e,r,a){if("a"===r&&!a)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof e?t!==e||!a:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?a:"a"===r?a.call(t):a?a.value:e.get(t)}function e(t,e,r,a,n){if("m"===a)throw new TypeError("Private method is not writable");if("a"===a&&!n)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof e?t!==e||!n:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===a?n.call(t,r):n?n.value=r:e.set(t,r),r}var r;Object.defineProperty(exports,"__esModule",{value:!0});var a=function(){function a(){this.activeEffects=[],this.targetMap=new WeakMap,this.onChange=null,r.set(this,!1),this.actualState=void 0}var n=a.prototype;return n.getTrackableObject=function(t,e){for(var r in t)t[r]&&"object"==typeof t[r]&&(t[r]=this.getTrackableObject(t[r],e));var a=this,n=new Proxy(t,{get:function(t,r,a){var n=Reflect.get(t,r,a);return e.onGet(t,r,a),n},set:function(t,r,n,o){"object"==typeof n&&(n=a.getTrackableObject(n,e));var i=Reflect.set(t,r,n,o);return e.onSet(t,r,n,o),i},deleteProperty:function(t,r){var a=Reflect.deleteProperty(t,r);return e.onDeleteProperty(t,r),a}});return Array.isArray(t)&&Object.setPrototypeOf(n,Array.prototype),n},n.track=function(t,e){if(this.activeEffects.length){var r=this.targetMap.get(t);r||(r=new Map,this.targetMap.set(t,r));var a=r.get(e);a||(a=new Set,r.set(e,a)),this.activeEffects.forEach((function(t){return null==a?void 0:a.add(t)}))}},n.trigger=function(t,e){var r=this.targetMap.get(t);if(r){var a=r.get(e);a&&a.forEach((function(t){t()}))}},n.watchEffect=function(t){this.activeEffects.push(t),t(),this.activeEffects.pop()},n.build=function(a){var n=this,o=this,i=function e(){t(n,r,"f")?setTimeout(e,2):n.onChange&&n.onChange()};return this.actualState=this.getTrackableObject(a,{onGet:function(t,e){o.track(t,e)},onSet:function(a,n){t(o,r,"f")||(e(o,r,!0,"f"),i()),o.trigger(a,n),e(o,r,!1,"f")},onDeleteProperty:function(){}}),this.actualState},n.ref=function(t){var e=this,r={get value(){return e.track(r,"value"),t},set value(a){a!==t&&(t=a,e.trigger(r,"value"))}};return r},n.computed=function(t){var e=this.ref(null);return this.watchEffect((function(){return e.value=t()})),e},n.onStateChange=function(t){this.onChange=t,t()},a}();r=new WeakMap,exports.Reactive=a;
//# sourceMappingURL=reactivity.min.js.map
